
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>EDA DE PROYECTO FINAL &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=720ed60b" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=d2032c04" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=720ed60b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/bootstrap.css?v=b4a3e8ba" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/theme.css?v=a243ae73" />
    <link rel="stylesheet" type="text/css" href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?v=f4fbef65" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/EDA_PROYECTO_FINAL';</script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/copybutton_funcs.js?v=776a791e"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/language_data.js?v=d4673a71"></script>
    <script src="../_static/searchtools.js?v=63a53a7d"></script>
    <script src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../_static/scripts/bootstrap.js?v=7583a70d"></script>
    <script src="../_static/scripts/pydata-sphinx-theme.js?v=4bc35cb3"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?v=4e4fcec4"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Notebooks with MyST Markdown" href="../docs/markdown-notebooks.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
  
    <p class="title logo__title">My sample book</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    <no title>
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../docs/markdown.html">Markdown Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docs/markdown-notebooks.html">Notebooks with MyST Markdown</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">EDA DE PROYECTO FINAL</a></li>

</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fnotebooks/EDA_PROYECTO_FINAL.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/notebooks/EDA_PROYECTO_FINAL.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>EDA DE PROYECTO FINAL</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">EDA DE PROYECTO FINAL</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#indice">√çndice</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#regresion-logistica-para-revision-de-scores">1. REGRESI√ìN LOG√çSTICA PARA REVISI√ìN DE SCORES</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#regresion-logistica-aplicada-luego-de-imputacion-por-knn">REGRESI√ìN LOG√çSTICA APLICADA LUEGO DE IMPUTACI√ìN POR KNN</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#aplicamos-balanceo-con-smote-synthetic-minority-over-sampling-technique-e-imputacion-con-knn">Aplicamos balanceo con SMOTE (Synthetic Minority Over-sampling Technique) e imputaci√≥n con KNN</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#carga-de-los-datos">1.1. Carga de los Datos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exploracion-inicial-de-la-estructura-y-datos-faltantes">1.2. Exploraci√≥n inicial de la estructura y datos faltantes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#estudio-inicial">Estudio inicial</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datos-faltantes">Datos Faltantes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-de-datos-faltantes">Visualizaci√≥n de datos faltantes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#verificacion-de-imputacion-por-knn">1.3. Verificaci√≥n de imputaci√≥n por KNN</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis">1.4. An√°lisis</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-exploratorio-de-datos-eda">2. An√°lisis Exploratorio de Datos (EDA)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-de-los-datos">2.1. Analisis de los datos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#la-columna-objetivo-target">2.2. La Columna Objetivo (<code class="docutils literal notranslate"><span class="pre">target</span></code>)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">2.3.</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#distribucion-de-variables-numericas">Distribuci√≥n de Variables Num√©ricas</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#distribuciones-aproximadamente-normales">Distribuciones Aproximadamente Normales</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#distribuciones-asimetricas-sesgadas-a-la-derecha">Distribuciones Asim√©tricas (Sesgadas a la Derecha)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#distribuciones-uniformes-o-artificiales">Distribuciones Uniformes o Artificiales</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#valores-atipicos-o-anomalos">Valores At√≠picos o An√≥malos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-numericas-vs-target">2.4. Variables Num√©ricas vs. Target</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comparacion-de-variables-numericas-por-estado-de-salud-target">Comparaci√≥n de Variables Num√©ricas por Estado de Salud (<code class="docutils literal notranslate"><span class="pre">target</span></code>)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-con-alta-discriminacion-entre-grupos">Variables con Alta Discriminaci√≥n entre Grupos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-con-bajo-poder-predictivo">Variables con Bajo Poder Predictivo</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">2.5.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#correlacion">2.6. Correlaci√≥n</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion-del-analisis-exploratorio-de-datos">2.7. Conclusi√≥n del An√°lisis Exploratorio de Datos</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="eda-de-proyecto-final">
<h1>EDA DE PROYECTO FINAL<a class="headerlink" href="#eda-de-proyecto-final" title="Link to this heading">#</a></h1>
<p><strong>Desarrollado por:</strong><br />
Johan D√≠az<br />
H√©ctor Sanjuan<br />
Miguel Lugo<br />
Luis David Pe√±aranda</p>
<hr class="docutils" />
<section id="indice">
<h2>√çndice<a class="headerlink" href="#indice" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><strong>1. Regresi√≥n Log√≠stica para revisi√≥n de scores</strong></p>
<ul>
<li><p>1.1. Carga de datos</p></li>
<li><p>1.2. Exploraci√≥n inicial de la estructura y datos faltantes</p></li>
<li><p>1.3. Verificaci√≥n de imputaci√≥n por KNN</p></li>
<li><p>1.4. An√°lisis de resultados</p></li>
</ul>
</li>
<li><p><strong>2. An√°lisis Exploratorio de Datos (EDA)</strong></p>
<ul>
<li><p>2.1. An√°lisis de los datos</p></li>
<li><p>2.2. La columna objetivo (<code class="docutils literal notranslate"><span class="pre">target</span></code>)</p></li>
<li><p>2.3. Visualizaci√≥n de target</p></li>
<li><p>2.4. Variables num√©ricas vs. target</p></li>
<li><p>2.5. Comparaci√≥n de distribuci√≥n</p></li>
<li><p>2.6. Correlaci√≥n</p></li>
<li><p>2.7. Conclusi√≥n del An√°lisis Exploratorio de Datos</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="regresion-logistica-para-revision-de-scores">
<h1>1. REGRESI√ìN LOG√çSTICA PARA REVISI√ìN DE SCORES<a class="headerlink" href="#regresion-logistica-para-revision-de-scores" title="Link to this heading">#</a></h1>
<p>Resumen del Conjunto de Datos</p>
<p>Filas: 100,000 individuos</p>
<p>Columnas: 40 caracter√≠sticas + 1 objetivo</p>
<p>Variable Objetivo: target ‚Üí Clasificaci√≥n binaria:</p>
<p>saludable</p>
<p>con enfermedad</p>
<p>Desbalanceado: ~70% healthy, ~30% diseased</p>
<p>Tipos de Datos: Num√©ricos, categ√≥ricos, ordinales</p>
<p>Definici√≥n de la Variable Objetivo
La columna objetivo indica si una persona ha sido diagnosticada con una determinada enfermedad o no. La clasificaci√≥n se basa en indicadores m√©dicos y de estilo de vida derivados del perfil del individuo.</p>
<section id="regresion-logistica-aplicada-luego-de-imputacion-por-knn">
<h2>REGRESI√ìN LOG√çSTICA APLICADA LUEGO DE IMPUTACI√ìN POR KNN<a class="headerlink" href="#regresion-logistica-aplicada-luego-de-imputacion-por-knn" title="Link to this heading">#</a></h2>
<section id="aplicamos-balanceo-con-smote-synthetic-minority-over-sampling-technique-e-imputacion-con-knn">
<h3>Aplicamos balanceo con SMOTE (Synthetic Minority Over-sampling Technique) e imputaci√≥n con KNN<a class="headerlink" href="#aplicamos-balanceo-con-smote-synthetic-minority-over-sampling-technique-e-imputacion-con-knn" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>imbalanced-learn
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Acceso denegado.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">imblearn.over_sampling</span><span class="w"> </span><span class="kn">import</span> <span class="n">SMOTE</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="carga-de-los-datos">
<h3>1.1. Carga de los Datos<a class="headerlink" href="#carga-de-los-datos" title="Link to this heading">#</a></h3>
<p>Para empezar, necesitamos cargar los datos. Para que este notebook lo pueda usar cualquiera sin descargar archivos manualmente, hemos creado una funci√≥n que se conecta a un link de GitHub, baja un archivo <code class="docutils literal notranslate"><span class="pre">.zip</span></code>, lo descomprime y carga el archivo <code class="docutils literal notranslate"><span class="pre">.csv</span></code> que tiene adentro. As√≠ el proceso es autom√°tico y f√°cil.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">zipfile</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">io</span><span class="w"> </span><span class="kn">import</span> <span class="n">BytesIO</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.linear_model</span><span class="w"> </span><span class="kn">import</span> <span class="n">LogisticRegression</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span><span class="p">,</span> <span class="n">accuracy_score</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.impute</span><span class="w"> </span><span class="kn">import</span> <span class="n">SimpleImputer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">imblearn.over_sampling</span><span class="w"> </span><span class="kn">import</span> <span class="n">SMOTE</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">precision_recall_curve</span><span class="p">,</span> <span class="n">auc</span>

<span class="c1"># Estilo visual</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;darkgrid&quot;</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">load_health_data</span><span class="p">():</span>
    <span class="n">PERMANENT_LINK</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/johand-lopez/eda_ml/blob/8530ff0aaf5e5d556e3994c15e45f576b629bcde/data.zip&quot;</span>
    <span class="n">RAW_LINK</span> <span class="o">=</span> <span class="n">PERMANENT_LINK</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;github.com&quot;</span><span class="p">,</span> <span class="s2">&quot;raw.githubusercontent.com&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/blob/&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Descargando desde: </span><span class="si">{</span><span class="n">RAW_LINK</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">RAW_LINK</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># Verifica errores HTTP</span>
        
        <span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">))</span> <span class="k">as</span> <span class="n">z</span><span class="p">:</span>
            <span class="n">csv_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">z</span><span class="o">.</span><span class="n">namelist</span><span class="p">()</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.csv&#39;</span><span class="p">)][</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">with</span> <span class="n">z</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">csv_name</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Archivo &#39;</span><span class="si">{</span><span class="n">csv_name</span><span class="si">}</span><span class="s2">&#39; cargado correctamente&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error durante la carga: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Soluci√≥n de problemas:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;1. Verifica que el enlace sea accesible: </span><span class="si">{</span><span class="n">RAW_LINK</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. Aseg√∫rate que el ZIP contiene un CSV&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Revisa tu conexi√≥n a internet&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">load_health_data</span><span class="p">()</span>

<span class="k">if</span> <span class="n">df</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">SystemExit</span><span class="p">(</span><span class="s2">&quot;No se pudo cargar el dataset. Det√©n la ejecuci√≥n y revisa el enlace o tu conexi√≥n.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Descargando desde: https://raw.githubusercontent.com/johand-lopez/eda_ml/8530ff0aaf5e5d556e3994c15e45f576b629bcde/data.zip
 Archivo &#39;health_lifestyle_classification.csv&#39; cargado correctamente
</pre></div>
</div>
</div>
</div>
</section>
<section id="exploracion-inicial-de-la-estructura-y-datos-faltantes">
<h3>1.2. Exploraci√≥n inicial de la estructura y datos faltantes<a class="headerlink" href="#exploracion-inicial-de-la-estructura-y-datos-faltantes" title="Link to this heading">#</a></h3>
<p>Antes de aplicar la t√©cnicas de imputaci√≥n KNN, es fundamental comprender la estructura del conjunto de datos. En esta secci√≥n inspeccionamos las primeras filas y el tipo de variables. Esta informaci√≥n nos permite identificar posibles problemas de calidad de los datos y tomar decisiones informadas sobre el preprocesamiento.</p>
</section>
<section id="estudio-inicial">
<h3>Estudio inicial<a class="headerlink" href="#estudio-inicial" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Vista previa del DataFrame:&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Informaci√≥n general del DataFrame:&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Vista previa del DataFrame:

Informaci√≥n general del DataFrame:
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 100000 entries, 0 to 99999
Data columns (total 48 columns):
 #   Column                    Non-Null Count   Dtype  
---  ------                    --------------   -----  
 0   survey_code               100000 non-null  int64  
 1   age                       100000 non-null  int64  
 2   gender                    100000 non-null  object 
 3   height                    100000 non-null  float64
 4   weight                    100000 non-null  float64
 5   bmi                       100000 non-null  float64
 6   bmi_estimated             100000 non-null  float64
 7   bmi_scaled                100000 non-null  float64
 8   bmi_corrected             100000 non-null  float64
 9   waist_size                100000 non-null  float64
 10  blood_pressure            92331 non-null   float64
 11  heart_rate                85997 non-null   float64
 12  cholesterol               100000 non-null  float64
 13  glucose                   100000 non-null  float64
 14  insulin                   84164 non-null   float64
 15  sleep_hours               100000 non-null  float64
 16  sleep_quality             100000 non-null  object 
 17  work_hours                100000 non-null  float64
 18  physical_activity         100000 non-null  float64
 19  daily_steps               91671 non-null   float64
 20  calorie_intake            100000 non-null  float64
 21  sugar_intake              100000 non-null  float64
 22  alcohol_consumption       57613 non-null   object 
 23  smoking_level             100000 non-null  object 
 24  water_intake              100000 non-null  float64
 25  screen_time               100000 non-null  float64
 26  stress_level              100000 non-null  int64  
 27  mental_health_score       100000 non-null  int64  
 28  mental_health_support     100000 non-null  object 
 29  education_level           100000 non-null  object 
 30  job_type                  100000 non-null  object 
 31  occupation                100000 non-null  object 
 32  income                    91530 non-null   float64
 33  diet_type                 100000 non-null  object 
 34  exercise_type             75031 non-null   object 
 35  device_usage              100000 non-null  object 
 36  healthcare_access         100000 non-null  object 
 37  insurance                 100000 non-null  object 
 38  sunlight_exposure         100000 non-null  object 
 39  meals_per_day             100000 non-null  int64  
 40  caffeine_intake           66739 non-null   object 
 41  family_history            100000 non-null  object 
 42  pet_owner                 100000 non-null  object 
 43  electrolyte_level         100000 non-null  int64  
 44  gene_marker_flag          89526 non-null   float64
 45  environmental_risk_score  100000 non-null  float64
 46  daily_supplement_dosage   100000 non-null  float64
 47  target                    100000 non-null  object 
dtypes: float64(24), int64(6), object(18)
memory usage: 36.6+ MB
</pre></div>
</div>
</div>
</div>
</section>
<section id="datos-faltantes">
<h3>Datos Faltantes<a class="headerlink" href="#datos-faltantes" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># C√°lculo de valores nulos y su porcentaje</span>
<span class="n">missing</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">missing_percent</span> <span class="o">=</span> <span class="p">(</span><span class="n">missing</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">))</span> <span class="o">*</span> <span class="mi">100</span>

<span class="n">missing_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Faltantes&#39;</span><span class="p">:</span> <span class="n">missing</span><span class="p">,</span>
    <span class="s1">&#39;Porcentaje (%)&#39;</span><span class="p">:</span> <span class="n">missing_percent</span>
<span class="p">})</span>

<span class="c1"># Mostrar solo las columnas con datos faltantes</span>
<span class="n">missing_df</span> <span class="o">=</span> <span class="n">missing_df</span><span class="p">[</span><span class="n">missing_df</span><span class="p">[</span><span class="s1">&#39;Faltantes&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;Faltantes&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">‚ö†Ô∏è Resumen de valores faltantes por variable:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">missing_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>‚ö†Ô∏è Resumen de valores faltantes por variable:
                     Faltantes  Porcentaje (%)
alcohol_consumption      42387          42.387
caffeine_intake          33261          33.261
exercise_type            24969          24.969
insulin                  15836          15.836
heart_rate               14003          14.003
gene_marker_flag         10474          10.474
income                    8470           8.470
daily_steps               8329           8.329
blood_pressure            7669           7.669
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualizacion-de-datos-faltantes">
<h3>Visualizaci√≥n de datos faltantes<a class="headerlink" href="#visualizacion-de-datos-faltantes" title="Link to this heading">#</a></h3>
<p>Para identificar de forma m√°s clara las variables con valores faltantes, realizamos un gr√°fico de barras con el porcentaje de datos faltantes por variable.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">missing</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">missing_percent</span> <span class="o">=</span> <span class="p">(</span><span class="n">missing</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">))</span> <span class="o">*</span> <span class="mi">100</span>
<span class="n">missing_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Variable&#39;</span><span class="p">:</span> <span class="n">missing</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Porcentaje&#39;</span><span class="p">:</span> <span class="n">missing_percent</span><span class="p">})</span>
<span class="n">missing_df</span> <span class="o">=</span> <span class="n">missing_df</span><span class="p">[</span><span class="n">missing_df</span><span class="p">[</span><span class="s1">&#39;Porcentaje&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;Porcentaje&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Gr√°fico de barras</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">missing_df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Porcentaje&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Variable&#39;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;magma&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;üìä Porcentaje de valores faltantes por variable&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Porcentaje (%)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Variable&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
C:\Users\johan\AppData\Local\Temp\ipykernel_31400\2164169462.py:12: UserWarning: Glyph 128202 (\N{BAR CHART}) missing from current font.
  plt.tight_layout()
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\IPython\core\pylabtools.py:152: UserWarning: Glyph 128202 (\N{BAR CHART}) missing from current font.
  fig.canvas.print_figure(bytes_io, **kw)
</pre></div>
</div>
<img alt="../_images/4c65bf31d21f2b48cc38d1123efa65af49395f685087c3de1314e40ddb93f4e2.png" src="../_images/4c65bf31d21f2b48cc38d1123efa65af49395f685087c3de1314e40ddb93f4e2.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_cols</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;bmi&#39;</span><span class="p">,</span> <span class="s1">&#39;blood_pressure&#39;</span><span class="p">,</span> <span class="s1">&#39;cholesterol&#39;</span><span class="p">,</span> <span class="s1">&#39;heart_rate&#39;</span><span class="p">,</span>
    <span class="s1">&#39;glucose&#39;</span><span class="p">,</span> <span class="s1">&#39;insulin&#39;</span><span class="p">,</span> <span class="s1">&#39;calorie_intake&#39;</span><span class="p">,</span> <span class="s1">&#39;sugar_intake&#39;</span><span class="p">,</span>
    <span class="s1">&#39;screen_time&#39;</span><span class="p">,</span> <span class="s1">&#39;stress_level&#39;</span><span class="p">,</span> <span class="s1">&#39;mental_health_score&#39;</span>
<span class="p">]</span>

<span class="n">cat_cols</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;gender&#39;</span><span class="p">,</span> <span class="s1">&#39;marital_status&#39;</span><span class="p">,</span> <span class="s1">&#39;diet_type&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span>
    <span class="s1">&#39;sleep_quality&#39;</span><span class="p">,</span> <span class="s1">&#39;mental_health_support&#39;</span><span class="p">,</span> <span class="s1">&#39;exercise_type&#39;</span><span class="p">,</span>
    <span class="s1">&#39;device_usage&#39;</span><span class="p">,</span> <span class="s1">&#39;healthcare_access&#39;</span><span class="p">,</span> <span class="s1">&#39;insurance&#39;</span><span class="p">,</span>
    <span class="s1">&#39;family_history&#39;</span><span class="p">,</span> <span class="s1">&#39;sunlight_exposure&#39;</span>
<span class="p">]</span>

<span class="n">cat_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cat_cols</span> <span class="k">if</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>

<span class="c1"># Imputar valores nulos</span>
<span class="n">num_imputer</span> <span class="o">=</span> <span class="n">SimpleImputer</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="n">num_cols</span><span class="p">]</span> <span class="o">=</span> <span class="n">num_imputer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">num_cols</span><span class="p">])</span>

<span class="n">cat_imputer</span> <span class="o">=</span> <span class="n">SimpleImputer</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="s1">&#39;most_frequent&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="n">cat_cols</span><span class="p">]</span> <span class="o">=</span> <span class="n">cat_imputer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">cat_cols</span><span class="p">])</span>


<span class="n">cat_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cat_cols</span> <span class="k">if</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>

<span class="c1"># A√±ade las columnas tipo objeto que faltan</span>
<span class="n">extra_cat_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;alcohol_consumption&#39;</span><span class="p">,</span> <span class="s1">&#39;smoking_level&#39;</span><span class="p">,</span> <span class="s1">&#39;education_level&#39;</span><span class="p">,</span> <span class="s1">&#39;job_type&#39;</span><span class="p">,</span> <span class="s1">&#39;caffeine_intake&#39;</span><span class="p">,</span> <span class="s1">&#39;pet_owner&#39;</span><span class="p">]</span>
<span class="n">cat_cols</span> <span class="o">+=</span> <span class="p">[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">extra_cat_cols</span> <span class="k">if</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="ow">and</span> <span class="n">col</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cat_cols</span><span class="p">]</span>

<span class="c1"># One-hot encoding para categ√≥ricas</span>
<span class="n">df_encoded</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">cat_cols</span><span class="p">,</span> <span class="n">drop_first</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Variable objetivo</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_encoded</span><span class="p">[</span><span class="s2">&quot;target&quot;</span><span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df_encoded</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;target&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.impute</span><span class="w"> </span><span class="kn">import</span> <span class="n">KNNImputer</span>

<span class="c1"># Imputaci√≥n por KNN</span>
<span class="n">knn_imputer</span> <span class="o">=</span> <span class="n">KNNImputer</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">knn_imputer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Escalar variables</span>
<span class="n">scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">X_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># Divisi√≥n train/test</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_scaled</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">y</span>
<span class="p">)</span>

<span class="c1"># Balanceo de clases en el set de entrenamiento</span>
<span class="n">smote</span> <span class="o">=</span> <span class="n">SMOTE</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">X_train_bal</span><span class="p">,</span> <span class="n">y_train_bal</span> <span class="o">=</span> <span class="n">smote</span><span class="o">.</span><span class="n">fit_resample</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Modelo con regularizaci√≥n m√°s fuerte</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">(</span><span class="n">max_iter</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">class_weight</span><span class="o">=</span><span class="s1">&#39;balanced&#39;</span><span class="p">,</span> <span class="n">C</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_bal</span><span class="p">,</span> <span class="n">y_train_bal</span><span class="p">)</span>

<span class="c1"># Predicci√≥n y evaluaci√≥n</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># Verifica columnas con nulos despu√©s de la imputaci√≥n</span>
<span class="n">null_cols</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">X</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">()]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Columnas con nulos en X:&quot;</span><span class="p">,</span> <span class="n">null_cols</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total de nulos por columna:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">X</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Accuracy:&quot;</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Reporte de Clasificaci√≥n:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>

<span class="c1"># Modelo con regularizaci√≥n m√°s fuerte</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">(</span><span class="n">max_iter</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">class_weight</span><span class="o">=</span><span class="s1">&#39;balanced&#39;</span><span class="p">,</span> <span class="n">C</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Predicci√≥n y evaluaci√≥n</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Accuracy:&quot;</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Reporte de Clasificaci√≥n:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Columnas con nulos en X: []
Total de nulos por columna:
 survey_code                 0
age                         0
height                      0
weight                      0
bmi                         0
                           ..
job_type_Service            0
job_type_Tech               0
job_type_Unemployed         0
caffeine_intake_Moderate    0
pet_owner_Yes               0
Length: 66, dtype: int64

Accuracy: 0.51045

Reporte de Clasificaci√≥n:
              precision    recall  f1-score   support

    diseased       0.30      0.48      0.37      5981
     healthy       0.70      0.52      0.60     14019

    accuracy                           0.51     20000
   macro avg       0.50      0.50      0.48     20000
weighted avg       0.58      0.51      0.53     20000


Accuracy: 0.49935

Reporte de Clasificaci√≥n:
              precision    recall  f1-score   support

    diseased       0.30      0.50      0.38      5981
     healthy       0.70      0.50      0.58     14019

    accuracy                           0.50     20000
   macro avg       0.50      0.50      0.48     20000
weighted avg       0.58      0.50      0.52     20000
</pre></div>
</div>
</div>
</div>
</section>
<section id="verificacion-de-imputacion-por-knn">
<h3>1.3. Verificaci√≥n de imputaci√≥n por KNN<a class="headerlink" href="#verificacion-de-imputacion-por-knn" title="Link to this heading">#</a></h3>
<p>Despu√©s de aplicar la imputaci√≥n por KNN, verificamos que no queden valores nulos en las variables predictoras.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">null_count</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="k">if</span> <span class="n">null_count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;‚úÖ Todos los valores nulos han sido imputados correctamente con KNN.&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚ö†Ô∏è A√∫n quedan </span><span class="si">{</span><span class="n">null_count</span><span class="si">}</span><span class="s2"> valores nulos despu√©s de la imputaci√≥n con KNN.&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Resumen por columna con nulos restantes:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()[</span><span class="n">X</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>‚úÖ Todos los valores nulos han sido imputados correctamente con KNN.
</pre></div>
</div>
</div>
</div>
</section>
<section id="analisis">
<h3>1.4. An√°lisis<a class="headerlink" href="#analisis" title="Link to this heading">#</a></h3>
<p>Escogimos KNN como m√©todo de imputaci√≥n porque permite estimar valores faltantes bas√°ndose en la similitud entre observaciones, lo cual ofrece una imputaci√≥n m√°s robusta que simplemente usar la media o la moda. Esta elecci√≥n est√° alineada con nuestro objetivo de preparar los datos para modelos m√°s complejos en fases posteriores del proyecto, asegurando as√≠ una mejor calidad en las predicciones.</p>
<p><strong>1. Accuracy bajo (~0.50)</strong>
El modelo apenas supera el azar. Esto indica que no est√° logrando distinguir bien entre ‚Äúhealthy‚Äù y ‚Äúdiseased‚Äù, probablemente por el desbalance de clases y/o falta de informaci√≥n relevante.</p>
<p><strong>2. Precision y Recall desbalanceados</strong>
Para la clase diseased:
Precision baja (0.30): Muchas predicciones positivas son incorrectas.
Recall moderado (0.48): El modelo detecta menos de la mitad de los casos reales.
Para la clase healthy:
Precision aceptable (0.70): La mayor√≠a de los positivos predichos son correctos.
Recall bajo (0.52): El modelo no detecta todos los casos reales.</p>
<p><strong>3. F1-score bajo en ambas clases</strong>
El F1-score, que balancea precision y recall, es bajo para ambas clases, lo que indica que el modelo no logra un buen equilibrio entre ambos.</p>
<p><strong>4. Macro y Weighted Average cercanos a 0.5</strong>
Esto confirma que el modelo no est√° aprendiendo patrones √∫tiles y que el desbalance de clases afecta negativamente el desempe√±o.</p>
</section>
</section>
<section id="analisis-exploratorio-de-datos-eda">
<h2>2. An√°lisis Exploratorio de Datos (EDA)<a class="headerlink" href="#analisis-exploratorio-de-datos-eda" title="Link to this heading">#</a></h2>
<p>Despu√©s de completar el proceso de limpieza, imputaci√≥n y preparaci√≥n de los datos, estamos en condiciones de realizar el An√°lisis Exploratorio de Datos (EDA). Esta etapa nos permitir√° comprender mejor la distribuci√≥n de las variables, identificar patrones, relaciones entre caracter√≠sticas, y posibles diferencias entre los grupos de estudio. El objetivo es obtener informaci√≥n relevante que nos oriente en la construcci√≥n y evaluaci√≥n de los modelos predictivos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">zipfile</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">io</span><span class="w"> </span><span class="kn">import</span> <span class="n">BytesIO</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s1">&#39;whitegrid&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;seaborn-v0_8-deep&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="analisis-de-los-datos">
<h3>2.1. Analisis de los datos<a class="headerlink" href="#analisis-de-los-datos" title="Link to this heading">#</a></h3>
<p>Ahora que los datos est√°n cargados, vamos a hacer una revisi√≥n r√°pida para empezar a conocer los datos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Resumen t√©cnico del DataFrame:&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Resumen t√©cnico del DataFrame:
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 100000 entries, 0 to 99999
Data columns (total 48 columns):
 #   Column                    Non-Null Count   Dtype  
---  ------                    --------------   -----  
 0   survey_code               100000 non-null  int64  
 1   age                       100000 non-null  float64
 2   gender                    100000 non-null  object 
 3   height                    100000 non-null  float64
 4   weight                    100000 non-null  float64
 5   bmi                       100000 non-null  float64
 6   bmi_estimated             100000 non-null  float64
 7   bmi_scaled                100000 non-null  float64
 8   bmi_corrected             100000 non-null  float64
 9   waist_size                100000 non-null  float64
 10  blood_pressure            100000 non-null  float64
 11  heart_rate                100000 non-null  float64
 12  cholesterol               100000 non-null  float64
 13  glucose                   100000 non-null  float64
 14  insulin                   100000 non-null  float64
 15  sleep_hours               100000 non-null  float64
 16  sleep_quality             100000 non-null  object 
 17  work_hours                100000 non-null  float64
 18  physical_activity         100000 non-null  float64
 19  daily_steps               91671 non-null   float64
 20  calorie_intake            100000 non-null  float64
 21  sugar_intake              100000 non-null  float64
 22  alcohol_consumption       57613 non-null   object 
 23  smoking_level             100000 non-null  object 
 24  water_intake              100000 non-null  float64
 25  screen_time               100000 non-null  float64
 26  stress_level              100000 non-null  float64
 27  mental_health_score       100000 non-null  float64
 28  mental_health_support     100000 non-null  object 
 29  education_level           100000 non-null  object 
 30  job_type                  100000 non-null  object 
 31  occupation                100000 non-null  object 
 32  income                    91530 non-null   float64
 33  diet_type                 100000 non-null  object 
 34  exercise_type             100000 non-null  object 
 35  device_usage              100000 non-null  object 
 36  healthcare_access         100000 non-null  object 
 37  insurance                 100000 non-null  object 
 38  sunlight_exposure         100000 non-null  object 
 39  meals_per_day             100000 non-null  int64  
 40  caffeine_intake           66739 non-null   object 
 41  family_history            100000 non-null  object 
 42  pet_owner                 100000 non-null  object 
 43  electrolyte_level         100000 non-null  int64  
 44  gene_marker_flag          89526 non-null   float64
 45  environmental_risk_score  100000 non-null  float64
 46  daily_supplement_dosage   100000 non-null  float64
 47  target                    100000 non-null  object 
dtypes: float64(27), int64(3), object(18)
memory usage: 36.6+ MB
</pre></div>
</div>
</div>
</div>
<p>En la primera etapa de nuestro An√°lisis Exploratorio de Datos (EDA), examinamos la estructura general del conjunto de datos.</p>
<ul class="simple">
<li><p><strong>Tama√±o del conjunto de datos:</strong> Verificamos que el conjunto de datos contiene 100,000 registros y 48 variables. Esto confirma la informaci√≥n inicial que ten√≠amos y nos da una idea del volumen de datos con el que estamos trabajando.</p></li>
<li><p><strong>Tipos de datos:</strong> Encontramos que las variables se dividen en tipos num√©ricos (<code class="docutils literal notranslate"><span class="pre">float64</span></code>, <code class="docutils literal notranslate"><span class="pre">int64</span></code>) y categ√≥ricos (<code class="docutils literal notranslate"><span class="pre">object</span></code>).</p></li>
<li><p><strong>Valores faltantes:</strong> Un hallazgo crucial es la presencia de valores nulos o faltantes en varias columnas. Espec√≠ficamente, notamos que:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">blood_pressure</span></code> tiene 7,669 valores faltantes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">heart_rate</span></code> tiene 14,003 valores faltantes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">insulin</span></code> tiene 15,836 valores faltantes.</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Resumen de las variables num√©ricas:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Resumen de las variables num√©ricas:
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>survey_code</th>
      <td>100000.0</td>
      <td>50000.500000</td>
      <td>28867.657797</td>
      <td>1.000000</td>
      <td>25000.750000</td>
      <td>50000.500000</td>
      <td>75000.250000</td>
      <td>100000.000000</td>
    </tr>
    <tr>
      <th>age</th>
      <td>100000.0</td>
      <td>48.525990</td>
      <td>17.886768</td>
      <td>18.000000</td>
      <td>33.000000</td>
      <td>48.000000</td>
      <td>64.000000</td>
      <td>79.000000</td>
    </tr>
    <tr>
      <th>height</th>
      <td>100000.0</td>
      <td>170.023707</td>
      <td>9.982798</td>
      <td>140.000000</td>
      <td>163.306615</td>
      <td>170.016778</td>
      <td>176.728920</td>
      <td>210.000000</td>
    </tr>
    <tr>
      <th>weight</th>
      <td>100000.0</td>
      <td>70.064862</td>
      <td>14.693667</td>
      <td>40.000000</td>
      <td>59.856938</td>
      <td>69.924141</td>
      <td>80.027418</td>
      <td>139.250894</td>
    </tr>
    <tr>
      <th>bmi</th>
      <td>100000.0</td>
      <td>24.493876</td>
      <td>5.951069</td>
      <td>9.988495</td>
      <td>20.271405</td>
      <td>24.156734</td>
      <td>28.258696</td>
      <td>59.234792</td>
    </tr>
    <tr>
      <th>bmi_estimated</th>
      <td>100000.0</td>
      <td>24.493876</td>
      <td>5.951069</td>
      <td>9.988495</td>
      <td>20.271405</td>
      <td>24.156734</td>
      <td>28.258696</td>
      <td>59.234792</td>
    </tr>
    <tr>
      <th>bmi_scaled</th>
      <td>100000.0</td>
      <td>73.481627</td>
      <td>17.853206</td>
      <td>29.965484</td>
      <td>60.814215</td>
      <td>72.470201</td>
      <td>84.776088</td>
      <td>177.704377</td>
    </tr>
    <tr>
      <th>bmi_corrected</th>
      <td>100000.0</td>
      <td>24.494140</td>
      <td>5.954184</td>
      <td>9.893845</td>
      <td>20.271059</td>
      <td>24.151699</td>
      <td>28.247648</td>
      <td>59.142646</td>
    </tr>
    <tr>
      <th>waist_size</th>
      <td>100000.0</td>
      <td>84.933043</td>
      <td>12.040314</td>
      <td>34.093185</td>
      <td>76.795185</td>
      <td>84.957139</td>
      <td>93.018713</td>
      <td>133.153631</td>
    </tr>
    <tr>
      <th>blood_pressure</th>
      <td>100000.0</td>
      <td>119.980149</td>
      <td>14.428244</td>
      <td>59.128168</td>
      <td>110.815119</td>
      <td>119.980149</td>
      <td>129.185145</td>
      <td>184.439195</td>
    </tr>
    <tr>
      <th>heart_rate</th>
      <td>100000.0</td>
      <td>74.969177</td>
      <td>9.219355</td>
      <td>34.745092</td>
      <td>69.543894</td>
      <td>74.969177</td>
      <td>80.467128</td>
      <td>114.136041</td>
    </tr>
    <tr>
      <th>cholesterol</th>
      <td>100000.0</td>
      <td>189.966438</td>
      <td>29.981934</td>
      <td>58.410902</td>
      <td>169.667738</td>
      <td>190.044579</td>
      <td>210.222005</td>
      <td>319.875613</td>
    </tr>
    <tr>
      <th>glucose</th>
      <td>100000.0</td>
      <td>99.994538</td>
      <td>19.982828</td>
      <td>12.434931</td>
      <td>86.461401</td>
      <td>99.986834</td>
      <td>113.508722</td>
      <td>183.883548</td>
    </tr>
    <tr>
      <th>insulin</th>
      <td>100000.0</td>
      <td>14.988258</td>
      <td>4.589596</td>
      <td>-6.794483</td>
      <td>12.324714</td>
      <td>14.988258</td>
      <td>17.663430</td>
      <td>35.464749</td>
    </tr>
    <tr>
      <th>sleep_hours</th>
      <td>100000.0</td>
      <td>7.002008</td>
      <td>1.496821</td>
      <td>3.000000</td>
      <td>5.986781</td>
      <td>6.998164</td>
      <td>8.019219</td>
      <td>12.000000</td>
    </tr>
    <tr>
      <th>work_hours</th>
      <td>100000.0</td>
      <td>8.001331</td>
      <td>1.994723</td>
      <td>0.000000</td>
      <td>6.651093</td>
      <td>8.004549</td>
      <td>9.353669</td>
      <td>16.000000</td>
    </tr>
    <tr>
      <th>physical_activity</th>
      <td>100000.0</td>
      <td>3.038344</td>
      <td>1.884475</td>
      <td>0.000000</td>
      <td>1.633799</td>
      <td>2.971222</td>
      <td>4.326500</td>
      <td>11.631898</td>
    </tr>
    <tr>
      <th>daily_steps</th>
      <td>91671.0</td>
      <td>7012.925748</td>
      <td>2488.989356</td>
      <td>1000.000000</td>
      <td>5320.858377</td>
      <td>7004.285450</td>
      <td>8702.281300</td>
      <td>18064.969543</td>
    </tr>
    <tr>
      <th>calorie_intake</th>
      <td>100000.0</td>
      <td>2201.428579</td>
      <td>400.516318</td>
      <td>527.172360</td>
      <td>1932.278165</td>
      <td>2200.992765</td>
      <td>2471.218160</td>
      <td>3949.019017</td>
    </tr>
    <tr>
      <th>sugar_intake</th>
      <td>100000.0</td>
      <td>60.047165</td>
      <td>19.966850</td>
      <td>-27.882444</td>
      <td>46.504292</td>
      <td>60.047905</td>
      <td>73.476386</td>
      <td>141.514522</td>
    </tr>
    <tr>
      <th>water_intake</th>
      <td>100000.0</td>
      <td>2.006373</td>
      <td>0.688868</td>
      <td>0.500000</td>
      <td>1.532011</td>
      <td>2.000659</td>
      <td>2.473047</td>
      <td>5.000000</td>
    </tr>
    <tr>
      <th>screen_time</th>
      <td>100000.0</td>
      <td>6.021525</td>
      <td>2.933835</td>
      <td>0.000000</td>
      <td>3.971318</td>
      <td>5.991171</td>
      <td>8.024470</td>
      <td>16.000000</td>
    </tr>
    <tr>
      <th>stress_level</th>
      <td>100000.0</td>
      <td>4.991600</td>
      <td>3.154997</td>
      <td>0.000000</td>
      <td>2.000000</td>
      <td>5.000000</td>
      <td>8.000000</td>
      <td>10.000000</td>
    </tr>
    <tr>
      <th>mental_health_score</th>
      <td>100000.0</td>
      <td>5.004680</td>
      <td>3.164228</td>
      <td>0.000000</td>
      <td>2.000000</td>
      <td>5.000000</td>
      <td>8.000000</td>
      <td>10.000000</td>
    </tr>
    <tr>
      <th>income</th>
      <td>91530.0</td>
      <td>4038.127284</td>
      <td>1930.025678</td>
      <td>500.000000</td>
      <td>2665.402843</td>
      <td>4004.601345</td>
      <td>5360.012694</td>
      <td>12029.409353</td>
    </tr>
    <tr>
      <th>meals_per_day</th>
      <td>100000.0</td>
      <td>2.998720</td>
      <td>1.414786</td>
      <td>1.000000</td>
      <td>2.000000</td>
      <td>3.000000</td>
      <td>4.000000</td>
      <td>5.000000</td>
    </tr>
    <tr>
      <th>electrolyte_level</th>
      <td>100000.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>gene_marker_flag</th>
      <td>89526.0</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>environmental_risk_score</th>
      <td>100000.0</td>
      <td>5.500000</td>
      <td>0.000000</td>
      <td>5.500000</td>
      <td>5.500000</td>
      <td>5.500000</td>
      <td>5.500000</td>
      <td>5.500000</td>
    </tr>
    <tr>
      <th>daily_supplement_dosage</th>
      <td>100000.0</td>
      <td>0.015726</td>
      <td>5.764489</td>
      <td>-9.999895</td>
      <td>-4.980501</td>
      <td>0.015589</td>
      <td>5.008424</td>
      <td>9.999966</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>A partir de la tabla de estad√≠sticas descriptivas (describe), realizamos las siguientes observaciones:</p>
<ol class="arabic simple">
<li><p><strong>Valores Faltantes (Nulos):</strong></p>
<ul class="simple">
<li><p>Confirmamos la presencia de valores faltantes en <code class="docutils literal notranslate"><span class="pre">blood_pressure</span></code>, <code class="docutils literal notranslate"><span class="pre">heart_rate</span></code> e <code class="docutils literal notranslate"><span class="pre">insulin</span></code>.</p></li>
<li><p>Adem√°s, encontramos nuevos valores faltantes en otras variables, como <code class="docutils literal notranslate"><span class="pre">daily_steps</span></code> (le faltan 8,329 registros) y <code class="docutils literal notranslate"><span class="pre">gene_marker_flag</span></code> (le faltan 10,474 registros).</p></li>
</ul>
</li>
<li><p><strong>Identificaci√≥n de Datos Inconsistentes:</strong></p>
<ul class="simple">
<li><p>Descubrimos valores imposibles en algunas variables:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">sugar_intake</span></code> y <code class="docutils literal notranslate"><span class="pre">daily_supplement_dosage</span></code> tienen valores m√≠nimos negativos (-27.88 y -9.99, respectivamente), lo cual es un claro error de datos. Estos valores deber√°n ser eliminados o corregidos.</p></li>
</ul>
</li>
<li><p>Observamos la distribuci√≥n de otras variables:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">income</span></code> muestra un rango muy amplio, con un m√≠nimo de 500 y un m√°ximo de 1.2 millones. Esto indica una alta variabilidad en los ingresos y podr√≠a haber valores at√≠picos que necesiten ser examinados.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">screen_time</span></code> tiene un m√≠nimo de 0.5 horas y un m√°ximo de 16 horas. La media (6.02) y la mediana (5.0) est√°n cerca, pero el m√°ximo sugiere que algunos individuos pasan una cantidad de tiempo en pantalla significativamente alta.</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Distribuci√≥n de las Variables:</strong></p>
<ul class="simple">
<li><p>Las variables <code class="docutils literal notranslate"><span class="pre">stress_level</span></code> y <code class="docutils literal notranslate"><span class="pre">mental_health_score</span></code> (ambas en una escala de 0 a 10) tienen una media de aproximadamente 5, lo que indica que los datos est√°n bastante centrados en la mitad de la escala.</p></li>
<li><p>Variables como <code class="docutils literal notranslate"><span class="pre">age</span></code>, <code class="docutils literal notranslate"><span class="pre">height</span></code>, <code class="docutils literal notranslate"><span class="pre">weight</span></code> y <code class="docutils literal notranslate"><span class="pre">bmi</span></code> tienen rangos y distribuciones que parecen ser razonables, lo que nos da confianza en la calidad de estos datos.</p></li>
</ul>
</li>
</ol>
<p>En resumen, esta exploraci√≥n inicial nos ha permitido confirmar los valores faltantes y, de manera crucial, identificar problemas de calidad en los datos como los valores negativos en la ingesta de az√∫car y la dosis de suplementos. Estos hallazgos ser√°n prioritarios en la etapa de limpieza y preprocesamiento de los datos.</p>
</section>
<section id="la-columna-objetivo-target">
<h3>2.2. La Columna Objetivo (<code class="docutils literal notranslate"><span class="pre">target</span></code>)<a class="headerlink" href="#la-columna-objetivo-target" title="Link to this heading">#</a></h3>
<p>Ahora nos vamos a enfocar en cada columna por separado. Empezamos por la columna m√°s importante: <code class="docutils literal notranslate"><span class="pre">target</span></code>, que nos dice si una persona est√° sana (<code class="docutils literal notranslate"><span class="pre">healthy</span></code>) o tiene una enfermedad (<code class="docutils literal notranslate"><span class="pre">diseased</span></code>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;target&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribuci√≥n de Sanos vs. Enfermos&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Estado de Salud&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Cantidad de Personas&#39;</span><span class="p">)</span>

<span class="n">total</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">])</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">patches</span><span class="p">:</span>
    <span class="n">percentage</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="mi">100</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">total</span><span class="si">:</span><span class="s1">.1f</span><span class="si">}</span><span class="s1">%&#39;</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">get_x</span><span class="p">()</span> <span class="o">+</span> <span class="n">p</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">percentage</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
</pre></div>
</div>
<img alt="../_images/64d06c0bb7dfa71febcbe3db417fc2466b23074079d5fa7cdf9890075c6a84e2.png" src="../_images/64d06c0bb7dfa71febcbe3db417fc2466b23074079d5fa7cdf9890075c6a84e2.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>target
healthy     70097
diseased    29903
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
<section id="id1">
<h3>2.3.<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>En este paso, visualizamos la distribuci√≥n de la variable objetivo, <code class="docutils literal notranslate"><span class="pre">target</span></code>, que categoriza a los individuos como ‚Äúhealthy‚Äù (sanos) o ‚Äúdiseased‚Äù (enfermos).</p>
<ul class="simple">
<li><p><strong>Desequilibrio del conjunto de datos:</strong> Como ya anticipamos en la descripci√≥n inicial, el gr√°fico de barras confirma que nuestro conjunto de datos est√° desequilibrado.</p></li>
<li><p><strong>Proporci√≥n de clases:</strong> Encontramos que el 70.1% de los individuos (<code class="docutils literal notranslate"><span class="pre">70,097</span></code>) pertenecen a la clase ‚Äúhealthy‚Äù y el 29.9% (<code class="docutils literal notranslate"><span class="pre">29,903</span></code>) pertenecen a la clase ‚Äúdiseased‚Äù.</p></li>
</ul>
<p>Para las columnas que tienen n√∫meros (como edad, colesterol, etc.), vamos a usar dos tipos de gr√°ficos:</p>
<ul class="simple">
<li><p><strong>Histogramas:</strong> para ver la ‚Äúforma‚Äù de los datos y d√≥nde se concentran m√°s.</p></li>
<li><p><strong>Diagramas de caja:</strong> para ver qu√© tan dispersos est√°n los datos y si hay valores ‚Äúat√≠picos‚Äù o muy extremos.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">numeric_features</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">number</span><span class="p">)</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="n">numeric_features</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;survey_code&#39;</span><span class="p">)</span> 

<span class="n">df</span><span class="p">[</span><span class="n">numeric_features</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">layout</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Histogramas de las Variables Num√©ricas&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.02</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/924c598b689189dacc2ea272d1ff9ca6b189b20cb1b013de617de72f8728b41e.png" src="../_images/924c598b689189dacc2ea272d1ff9ca6b189b20cb1b013de617de72f8728b41e.png" />
</div>
</div>
</section>
</section>
<section id="distribucion-de-variables-numericas">
<h2>Distribuci√≥n de Variables Num√©ricas<a class="headerlink" href="#distribucion-de-variables-numericas" title="Link to this heading">#</a></h2>
<p>El an√°lisis de histogramas proporciona una vista general del comportamiento estad√≠stico de las variables num√©ricas, permiti√©ndonos detectar patrones, sesgos y posibles anomal√≠as en los datos. A partir del gr√°fico anterior, extraemos los siguientes hallazgos:</p>
<section id="distribuciones-aproximadamente-normales">
<h3>Distribuciones Aproximadamente Normales<a class="headerlink" href="#distribuciones-aproximadamente-normales" title="Link to this heading">#</a></h3>
<p>Varias variables muestran distribuciones sim√©tricas en forma de campana, lo que sugiere una buena calidad de datos y estabilidad estad√≠stica:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">height</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">weight</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">blood_pressure</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">cholesterol</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">glucose</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">sleep_hours</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">calorie_intake</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">water_intake</span></code></strong>: Estas variables tienen una forma cercana a la distribuci√≥n normal, con concentraciones de datos alrededor de la media. Son candidatas ideales para t√©cnicas estad√≠sticas cl√°sicas que asumen normalidad.</p></li>
</ul>
</section>
<section id="distribuciones-asimetricas-sesgadas-a-la-derecha">
<h3>Distribuciones Asim√©tricas (Sesgadas a la Derecha)<a class="headerlink" href="#distribuciones-asimetricas-sesgadas-a-la-derecha" title="Link to this heading">#</a></h3>
<p>Estas variables presentan una concentraci√≥n de observaciones en valores bajos y una cola larga hacia la derecha. En tales casos, la mediana puede ser una mejor medida de tendencia central:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">insulin</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">physical_activity</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">daily_steps</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">screen_time</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">sugar_intake</span></code></strong>: Este comportamiento es com√∫n en m√©tricas que tienen un l√≠mite inferior natural (cero) y pocos casos con valores muy altos. Su transformaci√≥n (como logaritmos) podr√≠a ayudar en ciertos modelos.</p></li>
</ul>
</section>
<section id="distribuciones-uniformes-o-artificiales">
<h3>Distribuciones Uniformes o Artificiales<a class="headerlink" href="#distribuciones-uniformes-o-artificiales" title="Link to this heading">#</a></h3>
<p>Algunas variables muestran comportamientos particulares que pueden tener causas t√©cnicas o de recolecci√≥n de datos:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">age</span></code></strong>: Muestra una distribuci√≥n relativamente uniforme, lo que indica buena representaci√≥n de todas las edades. Esto es √∫til para evitar sesgos etarios en el modelo.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">stress_level</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">mental_health_score</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">meals_per_day</span></code></strong>: Tienen distribuciones discretas o uniformemente distribuidas, probablemente debido a su escala categ√≥rica o limitada por dise√±o.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">work_hours</span></code></strong>: Est√° fuertemente concentrada en 8 horas, lo que refleja un patr√≥n laboral est√°ndar.</p></li>
</ul>
</section>
<section id="valores-atipicos-o-anomalos">
<h3>Valores At√≠picos o An√≥malos<a class="headerlink" href="#valores-atipicos-o-anomalos" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">sugar_intake</span></code></strong>: Se observan valores negativos en el histograma, lo cual es inveros√≠mil en el contexto fisiol√≥gico y sugiere errores en la entrada de datos. Esto requerir√° limpieza o imputaci√≥n.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">electrolyte_level</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">gene_marker_flag</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">environmental_risk_score</span></code></strong>: Estas variables presentan patrones de distribuci√≥n sospechosos (picos √∫nicos o valores constantes), lo cual podr√≠a indicar codificaci√≥n incorrecta, falta de variabilidad o necesidad de revisar su utilidad.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Buscando Outliers en Variables Num√©ricas Clave&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.95</span><span class="p">)</span>

<span class="n">features_to_plot</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;bmi&#39;</span><span class="p">,</span> <span class="s1">&#39;blood_pressure&#39;</span><span class="p">,</span> <span class="s1">&#39;cholesterol&#39;</span><span class="p">,</span> <span class="s1">&#39;heart_rate&#39;</span><span class="p">,</span> <span class="s1">&#39;glucose&#39;</span><span class="p">,</span> <span class="s1">&#39;insulin&#39;</span><span class="p">,</span> <span class="s1">&#39;calorie_intake&#39;</span><span class="p">,</span> <span class="s1">&#39;stress_level&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">features_to_plot</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
</pre></div>
</div>
<img alt="../_images/e1dae0ecd247e33f103b89f45dd9e64189f16038cc644600be23660f42e88f10.png" src="../_images/e1dae0ecd247e33f103b89f45dd9e64189f16038cc644600be23660f42e88f10.png" />
</div>
</div>
<p><strong>Presencia Generalizada de Outliers:</strong><br />
Se observa una alta presencia de outliers en m√∫ltiples variables biom√©tricas, incluyendo <code class="docutils literal notranslate"><span class="pre">blood_pressure</span></code>, <code class="docutils literal notranslate"><span class="pre">cholesterol</span></code>, <code class="docutils literal notranslate"><span class="pre">heart_rate</span></code>, <code class="docutils literal notranslate"><span class="pre">glucose</span></code> y <code class="docutils literal notranslate"><span class="pre">calorie_intake</span></code>. Estos outliers aparecen en ambos extremos, aunque predominan los valores altos. Esta dispersi√≥n podr√≠a estar asociada a casos cl√≠nicos extremos que requieren atenci√≥n especial en el modelado.</p>
<ul class="simple">
<li><p><strong>Outliers en Variables con Distribuci√≥n Asim√©trica:</strong><br />
Las variables <code class="docutils literal notranslate"><span class="pre">bmi</span></code> e <code class="docutils literal notranslate"><span class="pre">insulin</span></code> presentan una concentraci√≥n significativa de outliers en el extremo superior. Esto concuerda con la distribuci√≥n asim√©trica positiva observada en los histogramas. Estos valores extremos podr√≠an tener una alta correlaci√≥n con la condici√≥n ‚Äúdiseased‚Äù, por lo que podr√≠an ser relevantes para el rendimiento de los modelos predictivos.</p></li>
<li><p><strong>Variables con Distribuci√≥n Controlada:</strong><br />
Variables como <code class="docutils literal notranslate"><span class="pre">age</span></code> y <code class="docutils literal notranslate"><span class="pre">stress_level</span></code> muestran boxplots m√°s compactos, sin presencia notable de outliers. Esto sugiere que sus datos est√°n distribuidos de manera m√°s uniforme y dentro de rangos biol√≥gicamente esperados, por lo que no se requiere tratamiento especial para valores extremos.</p></li>
<li><p><strong>Consideraciones para el Preprocesamiento:</strong><br />
Dado que algunos modelos de machine learning (como SVM o regresiones lineales) son sensibles a outliers, se recomienda considerar estrategias como Winsorizaci√≥n o detecci√≥n con IQR/z-score para mitigar su impacto, especialmente en variables altamente sesgadas como <code class="docutils literal notranslate"><span class="pre">insulin</span></code>.</p></li>
</ul>
</section>
<section id="variables-numericas-vs-target">
<h3>2.4. Variables Num√©ricas vs. Target<a class="headerlink" href="#variables-numericas-vs-target" title="Link to this heading">#</a></h3>
<p>Ahora vamos a empezar a cruzarlas de dos en dos. Nos interesa saber <strong>c√≥mo se relaciona cada caracter√≠stica con la variable <code class="docutils literal notranslate"><span class="pre">target</span></code></strong>.
Ahora vamos a ver si los valores num√©ricos (como la presi√≥n arterial o el IMC) son distintos para la gente sana y la gente enferma.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Variables Num√©ricas comparadas por Estado de Salud (target)&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.95</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">features_to_plot</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;target&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">col</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;muted&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1"> vs. Target&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Estado de Salud&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
</pre></div>
</div>
<img alt="../_images/40ba9082f9ecc15a244c637906cf8198a4f18537589f77b3c506a25ba3640b85.png" src="../_images/40ba9082f9ecc15a244c637906cf8198a4f18537589f77b3c506a25ba3640b85.png" />
</div>
</div>
</section>
</section>
<section id="comparacion-de-variables-numericas-por-estado-de-salud-target">
<h2>Comparaci√≥n de Variables Num√©ricas por Estado de Salud (<code class="docutils literal notranslate"><span class="pre">target</span></code>)<a class="headerlink" href="#comparacion-de-variables-numericas-por-estado-de-salud-target" title="Link to this heading">#</a></h2>
<p>El an√°lisis de estos boxplots segmentados por la variable objetivo (<code class="docutils literal notranslate"><span class="pre">healthy</span></code> vs. <code class="docutils literal notranslate"><span class="pre">diseased</span></code>) nos permite identificar qu√© variables podr√≠an tener un mayor poder explicativo o predictivo frente al estado de salud. A continuaci√≥n se destacan los hallazgos m√°s relevantes:</p>
<section id="variables-con-alta-discriminacion-entre-grupos">
<h3>Variables con Alta Discriminaci√≥n entre Grupos<a class="headerlink" href="#variables-con-alta-discriminacion-entre-grupos" title="Link to this heading">#</a></h3>
<p>Las siguientes variables muestran diferencias claras en su distribuci√≥n entre personas sanas y enfermas, lo cual indica su potencial como predictores del estado de salud:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">age</span></code></strong>: Las personas con enfermedad tienden a ser mayores, con una mediana desplazada hacia la derecha respecto al grupo sano.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">bmi</span></code></strong>: El √≠ndice de masa corporal es consistentemente m√°s alto en el grupo enfermo, lo que sugiere una posible asociaci√≥n con condiciones metab√≥licas.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">blood_pressure</span></code></strong>: Se observa un aumento en la presi√≥n arterial en individuos enfermos, con una ligera expansi√≥n en los cuartiles.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">cholesterol</span></code></strong>: Aunque la diferencia no es tan pronunciada, el grupo enfermo presenta una mediana y rango ligeramente m√°s altos.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">glucose</span></code></strong>: Claramente m√°s elevados en el grupo <code class="docutils literal notranslate"><span class="pre">diseased</span></code>, los niveles de glucosa podr√≠an ser uno de los marcadores m√°s fuertes.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">insulin</span></code></strong>: Las personas enfermas tienden a tener niveles m√°s altos de insulina, reflejando posibles problemas de regulaci√≥n metab√≥lica.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">stress_level</span></code></strong>: Aunque menos marcado, el grupo enfermo presenta una leve tendencia a niveles m√°s altos de estr√©s.</p></li>
</ul>
<p>Estas variables no solo presentan desplazamientos en la mediana, sino tambi√©n un aumento en la dispersi√≥n, lo cual puede enriquecer la capacidad del modelo para capturar patrones complejos.</p>
</section>
<section id="variables-con-bajo-poder-predictivo">
<h3>Variables con Bajo Poder Predictivo<a class="headerlink" href="#variables-con-bajo-poder-predictivo" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">heart_rate</span></code></strong>: Las distribuciones son muy similares entre ambos grupos, con medianas y rangos pr√°cticamente id√©nticos.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">calorie_intake</span></code></strong>: No se observa una diferencia significativa entre grupos, por lo que su valor predictivo podr√≠a ser limitado.</p></li>
</ul>
<p>Ahora vamos a ver si alguna categor√≠a (como ser fumador o el tipo de dieta) es m√°s com√∫n en el grupo de enfermos que en el de sanos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">categorical_features</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">categorical_features</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;target&#39;</span><span class="p">)</span>

<span class="n">ncols</span> <span class="o">=</span> <span class="mi">3</span> 

<span class="n">n_features</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">categorical_features</span><span class="p">)</span>
<span class="n">nrows</span> <span class="o">=</span> <span class="p">(</span><span class="n">n_features</span> <span class="o">+</span> <span class="n">ncols</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="n">ncols</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="n">nrows</span> <span class="o">*</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Variables Categ√≥ricas comparadas por Estado de Salud (target)&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">categorical_features</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">col</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;target&#39;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1"> vs. Target&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Cantidad&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Estado&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.98</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
c:\Users\johan\miniconda3\envs\ml_venv\lib\site-packages\seaborn\_oldcore.py:1498: FutureWarning: is_categorical_dtype is deprecated and will be removed in a future version. Use isinstance(dtype, CategoricalDtype) instead
  if pd.api.types.is_categorical_dtype(vector):
</pre></div>
</div>
<img alt="../_images/002a0b8aba8f9f9e3cfb78aa84facd80a72a1c5720002d6d1ee98d50c4afd113.png" src="../_images/002a0b8aba8f9f9e3cfb78aa84facd80a72a1c5720002d6d1ee98d50c4afd113.png" />
</div>
</div>
</section>
<section id="id2">
<h3>2.5.<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<p>En este an√°lisis, comparamos la distribuci√≥n de las variables categ√≥ricas con nuestra variable objetivo para identificar patrones que nos ayuden a predecir la enfermedad.</p>
<ul class="simple">
<li><p><strong>Asociaciones Fuertes:</strong> Encontramos que hay una clara relaci√≥n entre el estado de salud y varias variables de estilo de vida y demograf√≠a. Notamos que la proporci√≥n de individuos ‚Äúdiseased‚Äù es notablemente m√°s alta en categor√≠as como:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">sleep_quality</span></code>: En la categor√≠a ‚ÄúPoor‚Äù (pobre).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">smoking_habit</span></code>: En la categor√≠a ‚ÄúHeavy‚Äù (fumador empedernido).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">exercise_type</span></code>: En la categor√≠a ‚ÄúNone‚Äù (ninguno).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">family_history</span></code>: En la categor√≠a ‚ÄúYes‚Äù (s√≠).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">healthcare_access</span></code>: En la categor√≠a ‚ÄúPoor‚Äù (pobre).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">education_level</span></code>: En los niveles educativos m√°s bajos (ej. ‚ÄúHigh School‚Äù).</p></li>
</ul>
</li>
<li><p><strong>Asociaciones M√°s D√©biles:</strong> Por otro lado, variables como <code class="docutils literal notranslate"><span class="pre">gender</span></code> (g√©nero) o <code class="docutils literal notranslate"><span class="pre">pet_owner</span></code> no muestran una diferencia tan marcada en la proporci√≥n de personas ‚Äúdiseased‚Äù entre sus categor√≠as. Esto sugiere que estas variables podr√≠an no ser tan informativas para nuestro modelo predictivo.</p></li>
</ul>
</section>
<section id="correlacion">
<h3>2.6. Correlaci√≥n<a class="headerlink" href="#correlacion" title="Link to this heading">#</a></h3>
<p>Realizaremos esto para ver si existe multicolinealidad entre variables.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corr_features</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;bmi&#39;</span><span class="p">,</span> <span class="s1">&#39;blood_pressure&#39;</span><span class="p">,</span> <span class="s1">&#39;cholesterol&#39;</span><span class="p">,</span> <span class="s1">&#39;heart_rate&#39;</span><span class="p">,</span> <span class="s1">&#39;glucose&#39;</span><span class="p">,</span> <span class="s1">&#39;insulin&#39;</span><span class="p">,</span> <span class="s1">&#39;calorie_intake&#39;</span><span class="p">,</span> <span class="s1">&#39;sugar_intake&#39;</span><span class="p">,</span> <span class="s1">&#39;stress_level&#39;</span><span class="p">,</span> <span class="s1">&#39;physical_activity&#39;</span><span class="p">,</span> <span class="s1">&#39;screen_time&#39;</span><span class="p">,</span> <span class="s1">&#39;mental_health_score&#39;</span><span class="p">]</span>
<span class="n">correlation_matrix</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">corr_features</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">correlation_matrix</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.2f&quot;</span><span class="p">,</span> <span class="n">linewidths</span><span class="o">=</span><span class="mf">.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Mapa de Correlaci√≥n de Variables Num√©ricas&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/3023f7122d717328aca94df960662afc013fefa93d3c0a26fcb4ae6ae2ace87e.png" src="../_images/3023f7122d717328aca94df960662afc013fefa93d3c0a26fcb4ae6ae2ace87e.png" />
</div>
</div>
<p>Con el mapa de calor de correlaci√≥n, buscamos entender la relaci√≥n lineal entre las variables num√©ricas de nuestro conjunto de datos.</p>
<ul class="simple">
<li><p><strong>Hallazgo:</strong> El resultado que encontramos es que <strong>no existe una correlaci√≥n lineal significativa</strong> entre las variables num√©ricas mostradas.</p></li>
</ul>
</section>
<section id="conclusion-del-analisis-exploratorio-de-datos">
<h3>2.7. Conclusi√≥n del An√°lisis Exploratorio de Datos<a class="headerlink" href="#conclusion-del-analisis-exploratorio-de-datos" title="Link to this heading">#</a></h3>
<p>Nuestro EDA nos ha proporcionado una comprensi√≥n esencial de nuestro conjunto de datos y nos ha dado un claro camino a seguir para el modelado.</p>
<ul class="simple">
<li><p><strong>Preprocesamiento Crucial:</strong> Identificamos la necesidad de limpiar los datos. Encontramos valores nulos en varias columnas, datos inconsistentes (ej. valores negativos en la ingesta de az√∫car) y la presencia de outliers que deben ser gestionados cuidadosamente.</p></li>
<li><p><strong>Desaf√≠o del Target:</strong> Confirmamos que la variable objetivo est√° desequilibrada (70% sanos vs. 30% enfermos).</p></li>
<li><p><strong>Descubrimiento de Predictores:</strong> La mayor√≠a de las variables, tanto num√©ricas como categ√≥ricas, mostraron una fuerte asociaci√≥n con el estado de salud. Variables como <code class="docutils literal notranslate"><span class="pre">bmi</span></code>, <code class="docutils literal notranslate"><span class="pre">insulin</span></code>, <code class="docutils literal notranslate"><span class="pre">stress_level</span></code>, la <code class="docutils literal notranslate"><span class="pre">family_history</span></code> y el <code class="docutils literal notranslate"><span class="pre">exercise_type</span></code> emergen como los predictores m√°s prometedores para el modelo.</p></li>
<li><p><strong>Correlaci√≥n:</strong> Notamos que las variables num√©ricas clave no tienen una correlaci√≥n lineal significativa entre s√≠, lo cual es una buena se√±al para evitar la multicolinealidad.</p></li>
</ul>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../docs/markdown-notebooks.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Notebooks with MyST Markdown</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">EDA DE PROYECTO FINAL</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#indice">√çndice</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#regresion-logistica-para-revision-de-scores">1. REGRESI√ìN LOG√çSTICA PARA REVISI√ìN DE SCORES</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#regresion-logistica-aplicada-luego-de-imputacion-por-knn">REGRESI√ìN LOG√çSTICA APLICADA LUEGO DE IMPUTACI√ìN POR KNN</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#aplicamos-balanceo-con-smote-synthetic-minority-over-sampling-technique-e-imputacion-con-knn">Aplicamos balanceo con SMOTE (Synthetic Minority Over-sampling Technique) e imputaci√≥n con KNN</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#carga-de-los-datos">1.1. Carga de los Datos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exploracion-inicial-de-la-estructura-y-datos-faltantes">1.2. Exploraci√≥n inicial de la estructura y datos faltantes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#estudio-inicial">Estudio inicial</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datos-faltantes">Datos Faltantes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-de-datos-faltantes">Visualizaci√≥n de datos faltantes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#verificacion-de-imputacion-por-knn">1.3. Verificaci√≥n de imputaci√≥n por KNN</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis">1.4. An√°lisis</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-exploratorio-de-datos-eda">2. An√°lisis Exploratorio de Datos (EDA)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-de-los-datos">2.1. Analisis de los datos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#la-columna-objetivo-target">2.2. La Columna Objetivo (<code class="docutils literal notranslate"><span class="pre">target</span></code>)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">2.3.</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#distribucion-de-variables-numericas">Distribuci√≥n de Variables Num√©ricas</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#distribuciones-aproximadamente-normales">Distribuciones Aproximadamente Normales</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#distribuciones-asimetricas-sesgadas-a-la-derecha">Distribuciones Asim√©tricas (Sesgadas a la Derecha)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#distribuciones-uniformes-o-artificiales">Distribuciones Uniformes o Artificiales</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#valores-atipicos-o-anomalos">Valores At√≠picos o An√≥malos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-numericas-vs-target">2.4. Variables Num√©ricas vs. Target</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comparacion-de-variables-numericas-por-estado-de-salud-target">Comparaci√≥n de Variables Num√©ricas por Estado de Salud (<code class="docutils literal notranslate"><span class="pre">target</span></code>)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-con-alta-discriminacion-entre-grupos">Variables con Alta Discriminaci√≥n entre Grupos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-con-bajo-poder-predictivo">Variables con Bajo Poder Predictivo</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">2.5.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#correlacion">2.6. Correlaci√≥n</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion-del-analisis-exploratorio-de-datos">2.7. Conclusi√≥n del An√°lisis Exploratorio de Datos</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      ¬© Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>